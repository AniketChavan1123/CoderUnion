{"version":3,"sources":["backend.js","auth/helper/index.js","core/Menu.js","core/Base.js","core/helper/ImageHelper.js","core/Card.js","core/helper/cartHelper.js","core/Home.js","core/helper/coreapicalls.js","user/Signup.js","user/Signin.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","user/UserDashBoard.js","user/AdminDashBoard.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/ManageCategories.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/UpdateCategory.js","core/paymentB.js","core/helper/paymentbhelper.js","core/helper/orderHelper.js","core/Cart.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","currentTab","history","path","location","pathname","color","withRouter","style","cursor","className","to","user","role","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Base","title","description","children","ImageHelper","product","imageurl","_id","src","alt","maxHeight","maxWidth","Card","addtoCart","removeFromCart","setReload","f","reload","undefined","useState","redirect","setRedirect","count","cartTitle","name","cartDescrption","cartPrice","price","addToCart","item","cart","setItem","stringify","addItemToCart","getARedirect","showAddToCart","productId","map","index","splice","removeItemFromCart","showRemoveFromCart","Home","products","setProducts","setError","loadAllProduct","json","data","error","useEffect","Signup","email","password","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","onChange","type","marginTop","display","Signin","loading","didRedirect","signin","authenticate","AdminRoute","Component","component","rest","render","props","state","from","PrivateRoute","UserDashboard","AdminDashboard","listStyleType","classname","getCategories","AddCategory","setName","setSuccess","token","onhandleChange","onCategorySubmit","userId","category","Authorization","createCategory","tilte","successMessage","errorMessage","autoFocus","required","placeholder","ManageCategories","categories","setcategories","AddProduct","stock","photo","createdProduct","getaRedirect","formData","FormData","createaProduct","files","set","accept","cate","ManageProducts","setproducts","preload","deleteThisProduct","deleteaProduct","UpdateProduct","match","getproduct","preloadCategories","params","updateProduct","UpdateCategory","categoryId","Category","updateCategory","Paymentb","clientToken","instance","info","setInfo","getToken","getmeToken","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","getAmount","paymentInfo","processPayment","orderData","transaction_id","transaction","id","order","createOrder","p","length","options","authorization","onInstance","Cart","loadCart","loadAllProducts","Routes","exact","UserDashBoard","AdminDashBoard","ReactDOM","document","getElementById"],"mappings":"yKAAaA,G,MAAIC,8BCuDJC,EAAgB,WACzB,MAAkB,oBAARC,WAIPC,aAAaC,QAAQ,QAEbC,KAAKC,MAAMH,aAAaC,QAAQ,U,OCzDzCG,EAAW,SAACC,EAAQC,GAGtB,OAAGD,EAAQE,SAASC,WAAWF,EAEpB,CAACG,MAAM,WAGP,CAACA,MAAO,YA2ERC,eAvEF,SAAC,GAAe,IAAdL,EAAa,EAAbA,QACX,OACI,8BACI,qBACAM,MAAO,CAACC,OAAO,WAAWC,UAAU,wBADpC,UAEI,oBAAIA,UAAU,WAAd,SACI,cAAC,IAAD,CAAMF,MAAOP,EAAWC,EAAQ,KAC/BQ,UAAU,WAAWC,GAAG,IADzB,oBAKJ,oBAAID,UAAU,WAAd,SACI,cAAC,IAAD,CAAMF,MAAOP,EAAWC,EAAQ,SAC/BQ,UAAU,WACVC,GAAG,QAFJ,oBAMHhB,KAAmD,IAA9BA,IAAkBiB,KAAKC,MACzC,oBAAKH,UAAU,WAAf,SACA,cAAC,IAAD,CAAMF,MAAOP,EAAWC,EAAQ,mBAC/BQ,UAAU,WACVC,GAAG,kBAFJ,2BAOHhB,KAAmD,IAA9BA,IAAkBiB,KAAKC,MACzC,oBAAKH,UAAU,WAAf,SACA,cAAC,IAAD,CAAMF,MAAOP,EAAWC,EAAQ,oBAC/BQ,UAAU,WACVC,GAAG,mBAFJ,6BAOFhB,KACE,eAAC,WAAD,WACJ,oBAAKe,UAAU,WAAf,SACI,cAAC,IAAD,CAAMF,MAAOP,EAAWC,EAAQ,WAC/BQ,UAAU,WACVC,GAAG,UAFJ,sBAMJ,oBAAID,UAAU,WAAd,SACI,cAAC,IAAD,CAAMF,MAAOP,EAAWC,EAAQ,WAC/BQ,UAAU,WACVC,GAAG,UAFJ,yBAQFhB,KACF,oBAAIe,UAAU,WAAd,SACI,sBAAMF,MAAO,CAACF,MAAM,UAAWI,UAAU,WACzCI,QAAS,YDlCN,SAAAC,GACnB,GAAkB,oBAARnB,OAENC,aAAamB,WAAW,OACxBD,IAEOE,MAAM,GAAD,OAAIxB,EAAJ,YAAkB,CAC1ByB,OAAQ,QAGXC,MAAK,SAAAC,GAAQ,OAAEC,QAAQC,IAAI,sBAC3BC,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MCwBVC,EAAQ,WACJvB,EAAQwB,KAAK,SAHrB,+BCtCLC,EA/BF,SAAC,GAKP,IAAD,IAJJC,aAII,MAJI,WAIJ,MAHJC,mBAGI,MAHU,iBAGV,MAFJnB,iBAEI,MAFQ,yBAER,EADJoB,EACI,EADJA,SAEA,OACE,gCACA,cAAC,EAAD,IACE,sBAAKpB,UAAU,kBAAf,UACE,sBAAKA,UAAU,2CAAf,UACE,oBAAIA,UAAU,YAAd,SAA2BkB,IAC3B,mBAAGlB,UAAU,OAAb,SAAqBmB,OAEvB,qBAAKnB,UAAWA,EAAhB,SAA4BoB,OAE9B,yBAAQpB,UAAU,8BAAlB,UACE,sBAAKA,UAAU,oDAAf,UACE,gFACA,wBAAQA,UAAU,wBAAlB,2BAGF,qBAAKA,UAAU,YAAf,SACE,uBAAMA,UAAU,aAAhB,wBAAwC,sBAAMA,UAAU,aAAhB,kBAAxC,wBCPKqB,EAjBK,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAEfC,EAAWD,EAAO,UACjBvC,EADiB,0BACIuC,EAAQE,KADZ,iHAGxB,OACE,qBAAKxB,UAAU,oCAAf,SACE,qBACEyB,IAAKF,EACLG,IAAI,QACJ5B,MAAO,CAAE6B,UAAW,OAAQC,SAAU,QACtC5B,UAAU,oB,OC+DH6B,EAxEF,SAAC,GAOP,IANLP,EAMI,EANJA,QAMI,IALJQ,iBAKI,aAJJC,sBAII,aAHJC,iBAGI,MAHQ,SAAAC,GAAC,OAAIA,GAGb,MADJC,cACI,WADKC,EACL,EACJ,EAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA0BF,mBAASd,EAAQiB,OAA3C,mBAEMC,GAFN,UAEkBlB,EAAUA,EAAQmB,KAAO,uBACrCC,EAAiBpB,EAAUA,EAAQH,YAAc,sBACjDwB,EAAYrB,EAAUA,EAAQsB,MAAQ,UAEtCC,EAAY,YClBa,SAACC,EAAMzC,GAChC,IAAI0C,EAAO,QACWZ,WAAXjD,SACLC,aAAaC,QAAQ,UACvB2D,EAAO1D,KAAKC,MAAMH,aAAaC,QAAQ,UAEzC2D,EAAK/B,KAAL,2BACK8B,GADL,IAEEP,MAAO,KAETpD,aAAa6D,QAAQ,OAAQ3D,KAAK4D,UAAUF,IAC5C1C,KDQN6C,CAAc5B,GAAS,kBAAMgB,GAAY,OAqC3C,OACE,sBAAKtC,UAAU,8CAAf,UACE,qBAAKA,UAAU,mBAAf,SAAmCwC,IACnC,sBAAKxC,UAAU,YAAf,UArCiB,SAAAqC,GACnB,GAAIA,EACF,OAAO,cAAC,IAAD,CAAUpC,GAAG,UAoCjBkD,CAAad,GACd,cAAC,EAAD,CAAaf,QAASA,IACtB,mBAAGtB,UAAU,+CAAb,SACG0C,IAEH,oBAAG1C,UAAU,uCAAb,eAAuD2C,KACvD,sBAAK3C,UAAU,MAAf,UACE,qBAAKA,UAAU,SAAf,SAvCc,SAAA8B,GACpB,OACEA,GACE,wBACE1B,QAASyC,EACT7C,UAAU,8CAFZ,yBAoC2BoD,CAActB,KACvC,qBAAK9B,UAAU,SAAf,SA3BmB,SAAA+B,GACzB,OACEA,GACE,wBACE3B,QAAS,YClBqB,SAACiD,GACjC,IAAIN,EAAO,QACWZ,WAAXjD,SACLC,aAAaC,QAAQ,UACvB2D,EAAO1D,KAAKC,MAAMH,aAAaC,QAAQ,UAEzC2D,EAAKO,KAAI,SAAChC,EAAQiC,GACXjC,EAAQE,MAAM6B,GAEbN,EAAKS,OAAOD,EAAM,MAG1BpE,aAAa6D,QAAQ,OAAQ3D,KAAK4D,UAAUF,KDO1CU,CAAmBnC,EAAQE,KAC3BQ,GAAWE,IAEblC,UAAU,6CALZ,8BAwB2B0D,CAAmB3B,eE/DvC,SAAS4B,IACtB,MAAgCvB,mBAAS,IAAzC,mBAAOwB,EAAP,KAAiBC,EAAjB,KACA,EAA0BzB,oBAAS,GAAnC,mBAAc0B,GAAd,WAEMC,EAAiB,WCRhBxD,MAAM,GAAD,OAAIxB,EAAJ,aAAoB,CAAEyB,OAAQ,QACvCC,MAAK,SAAAC,GACJ,OAAOA,EAASsD,UAEjBnD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MDKZL,MAAK,SAAAwD,GACbA,EAAKC,MACPJ,EAASG,EAAKC,OAEdL,EAAYI,OASlB,OAJAE,qBAAU,WACRJ,MACC,IAGD,eAAC,EAAD,CAAM7C,MAAM,YAAYC,YAAY,8BAApC,UACI,oBAAInB,UAAU,yBAAd,4BACF,qBAAKA,UAAU,kBAAf,SACK4D,EAASN,KAAI,SAAChC,EAASiC,GACtB,OACE,qBAAiBvD,UAAU,aAA3B,SACE,cAAC,EAAD,CAAMsB,QAASA,KADPiC,W,YEkGTa,EA5HA,WACb,MAA4BhC,mBAAS,CACnCK,KAAM,GACN4B,MAAO,GACPC,SAAU,GACVJ,MAAO,GACPK,SAAS,IALX,mBAAOC,EAAP,KAAeC,EAAf,KAOQhC,EAA0C+B,EAA1C/B,KAAM4B,EAAoCG,EAApCH,MAAOC,EAA6BE,EAA7BF,SAAUJ,EAAmBM,EAAnBN,MAAOK,EAAYC,EAAZD,QAEhCG,EAAe,SAACjC,GAAD,OAAU,SAACkC,GAC9BF,EAAU,2BAAKD,GAAN,gBAAcN,OAAO,GAAQzB,EAAOkC,EAAMC,OAAOC,WAItDC,EAAW,SAACH,GRjBE,IAACzE,EQkBnByE,EAAMI,iBACNN,EAAU,2BAAKD,GAAN,IAAcN,OAAO,MRnBXhE,EQoBZ,CAAEuC,OAAM4B,QAAOC,YRnBf/D,MAAM,GAAD,OAAIxB,EAAJ,WAAiB,CAC7ByB,OAAQ,OACRwE,QAAQ,CACJC,OAAQ,mBACR,eAAe,oBAEnBC,KAAK7F,KAAK4D,UAAU/C,KACnBO,MAAK,SAAAC,GACF,OAAOA,EAASsD,UAEnBnD,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,OQUrBL,MAAK,SAACwD,GACDA,EAAKC,MACPO,EAAU,2BAAKD,GAAN,IAAcN,MAAOD,EAAKC,MAAOK,SAAS,KAEnDE,EAAU,2BACLD,GADI,IAEP/B,KAAM,GACN4B,MAAO,GACPC,SAAU,GACVJ,MAAO,GACPK,SAAS,QAKd1D,MAAMF,QAAQC,IAAI,qBA+EvB,OACE,eAAC,EAAD,CAAMM,MAAM,eAAeC,YAAY,4BAAvC,UA3EE,qBAAKnB,UAAU,MAAf,SACE,qBAAKA,UAAU,iCAAf,SACE,iCACE,sBAAKA,UAAU,aAAf,UACE,uBAAOA,UAAU,aAAjB,kBACA,uBACEmF,SAAUT,EAAa,QACvB1E,UAAU,eACVoF,KAAK,OACLP,MAAOpC,OAGX,sBAAKzC,UAAU,aAAf,UACE,uBAAOA,UAAU,aAAjB,mBACA,uBACEmF,SAAUT,EAAa,SACvB1E,UAAU,eACVoF,KAAK,OACLP,MAAOR,OAGX,sBAAKrE,UAAU,aAAf,UACE,uBAAOA,UAAU,aAAjB,sBACA,uBACEmF,SAAUT,EAAa,YACvB1E,UAAU,eACVoF,KAAK,WACLP,MAAOP,OAGX,wBACElE,QAAS0E,EACThF,MAAO,CAAEuF,UAAW,QACpBrF,UAAU,4BAHZ,2BA8BN,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,iCAAf,SACE,sBACEA,UAAU,sBACVF,MAAO,CAAEwF,QAASf,EAAU,GAAK,QAFnC,kDAKE,cAAC,IAAD,CAAMtE,GAAG,UAAT,+BAtBN,qBAAKD,UAAU,MAAf,SACE,qBAAKA,UAAU,iCAAf,SACE,qBACEA,UAAU,qBACVF,MAAO,CAAEwF,QAASpB,EAAQ,GAAK,QAFjC,SAIGA,QA6BP,mBAAGlE,UAAU,yBAAb,SAAuCX,KAAK4D,UAAUuB,SCK7Ce,EA3HA,WACb,MAA4BnD,mBAAS,CACnCiC,MAAO,GACPC,SAAU,GACVJ,MAAO,GACPsB,SAAS,EACTC,aAAa,IALf,mBAAOjB,EAAP,KAAeC,EAAf,KASQJ,EAAiDG,EAAjDH,MAAOC,EAA0CE,EAA1CF,SAAUJ,EAAgCM,EAAhCN,MAAOsB,EAAyBhB,EAAzBgB,QAASC,EAAgBjB,EAAhBiB,YAEjCvF,EAASjB,IAATiB,KAEFwE,EAAe,SAACjC,GAAD,OAAU,SAACkC,GAC9BF,EAAU,2BAAKD,GAAN,gBAAcN,OAAO,GAAQzB,EAAOkC,EAAMC,OAAOC,WAGtDC,EAAW,SAACH,GAChBA,EAAMI,iBACNN,EAAU,2BAAKD,GAAN,IAAcN,OAAO,EAAOsB,SAAS,KTT5B,SAAAtF,GAClB,OAAOK,MAAM,GAAD,OAAIxB,EAAJ,WAAiB,CAC7ByB,OAAQ,OACRwE,QAAQ,CACJC,OAAQ,mBACR,eAAe,oBAEnBC,KAAK7F,KAAK4D,UAAU/C,KACnBO,MAAK,SAAAC,GACF,OAAOA,EAASsD,UAEnBnD,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,MSAxB4E,CAAO,CAAErB,QAAOC,aACb7D,MAAK,SAACwD,GACDA,EAAKC,MACPO,EAAU,2BAAKD,GAAN,IAAcN,MAAOD,EAAKC,MAAOsB,SAAS,KTAnC,SAACvB,EAAK5D,GACT,qBAATnB,SAENC,aAAa6D,QAAQ,MAAO3D,KAAK4D,UAAUgB,IAC3C5D,KSDEsF,CAAa1B,GAAM,WACjBQ,EAAU,2BAAKD,GAAN,IAAciB,aAAa,WAIzC5E,MAAMF,QAAQC,IAAI,2BA+EvB,OACE,eAAC,EAAD,CAAMM,MAAM,eAAeC,YAAY,4BAAvC,UA5CEqE,GACE,qBAAKxF,UAAU,mBAAf,SACE,8CAjBJ,qBAAKA,UAAU,MAAf,SACE,qBAAKA,UAAU,iCAAf,SACE,qBACEA,UAAU,qBACVF,MAAO,CAAEwF,QAASpB,EAAQ,GAAK,QAFjC,SAIGA,QAmBP,qBAAKlE,UAAU,MAAf,SACE,qBAAKA,UAAU,iCAAf,SACE,iCACE,sBAAKA,UAAU,aAAf,UACE,uBAAOA,UAAU,aAAjB,mBACA,uBACEmF,SAAUT,EAAa,SACvBG,MAAOR,EACPrE,UAAU,eACVoF,KAAK,YAGT,sBAAKpF,UAAU,aAAf,UACE,uBAAOA,UAAU,aAAjB,sBACA,uBACEmF,SAAUT,EAAa,YACvBG,MAAOP,EACPtE,UAAU,eACVoF,KAAK,gBAGT,wBACEhF,QAAS0E,EACThF,MAAO,CAAEuF,UAAW,QACpBrF,UAAU,4BAHZ,2BAhEJyF,EACEvF,GAAsB,IAAdA,EAAKC,KAER,cAAC,IAAD,CAAUF,GAAG,qBAGb,cAAC,IAAD,CAAUA,GAAG,oBAIpBhB,IACK,cAAC,IAAD,CAAUgB,GAAG,WADtB,EAwEE,mBAAGD,UAAU,yBAAb,SAAuCX,KAAK4D,UAAUuB,a,wBCpG7CoB,EApBI,SAAC,GAAuC,IAA1BC,EAAyB,EAApCC,UAAyBC,EAAW,iBACxD,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,SAACC,GAAD,OACLhH,KAAmD,IAA9BA,IAAkBiB,KAAKC,KAC3C,cAAC0F,EAAD,eAAeI,IAEf,cAAC,IAAD,CACEhG,GAAI,CACFN,SAAU,UACVuG,MAAO,CAAEC,KAAMF,EAAMvG,kB,gBCSpB0G,EApBM,SAAC,GAAuC,IAA1BP,EAAyB,EAApCC,UAAyBC,EAAW,iBAC1D,OACE,cAAC,IAAD,2BACMA,GADN,IAEEC,OAAQ,SAACC,GAAD,OACNhH,IACE,cAAC4G,EAAD,eAAeI,IAEf,cAAC,IAAD,CACEhG,GAAI,CACFN,SAAU,UACVuG,MAAO,CAAEC,KAAMF,EAAMvG,kBCLpB2G,EARO,WAClB,OACI,cAAC,EAAD,CAAMnF,MAAM,qBAAZ,SACI,+DC0EGoF,EA3EQ,WACrB,IAAQpG,EAASjB,IAATiB,KAEAuC,EAAevC,EAAfuC,KAAM4B,EAASnE,EAATmE,MA0Dd,OACE,cAAC,EAAD,CACEnD,MAAM,wBACNC,YAAY,mCACZnB,UAAU,2BAHZ,SAKE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,QAAf,SA7DF,sBAAKA,UAAU,OAAf,UACE,oBAAIA,UAAU,iCAAd,8BACA,qBAAIA,UAAU,aAAd,UACI,oBAAIA,UAAU,kBAAd,SACI,cAAC,IAAD,CAAMA,UAAU,wBAChBC,GAAG,yBADH,iCAIJ,oBAAID,UAAU,kBAAd,SACI,cAAC,IAAD,CAAMA,UAAU,wBAChBC,GAAG,oBADH,iCAKJ,oBAAID,UAAU,kBAAd,SACI,cAAC,IAAD,CAAMA,UAAU,wBAChBC,GAAG,wBADH,8BAKJ,oBAAID,UAAU,kBAAd,SACI,cAAC,IAAD,CAAMA,UAAU,wBAChBC,GAAG,kBADH,+BAKJ,oBAAID,UAAU,kBAAd,SACI,cAAC,IAAD,CAAMA,UAAU,wBAChBC,GAAG,gBADH,qCAmCR,qBAAKD,UAAU,QAAf,SAzBA,sBAAKA,UAAU,YAAf,UACG,oBAAIA,UAAU,iCAAd,+BACA,qBAAIF,MAAO,CAACyG,cAAc,QAASvG,UAAU,aAA7C,UACI,qBAAIwG,UAAU,kBAAd,UACI,sBAAMxG,UAAU,2BAAhB,mBADJ,IAC6DyC,KAE7D,qBAAI+D,UAAU,kBAAd,UACI,sBAAMxG,UAAU,2BAAhB,oBADJ,IAC8DqE,KAE9D,qBAAImC,UAAU,kBAAd,UACI,sBAAMxG,UAAU,0BAAhB,yBADJ,0BCrCFyG,EAAgB,WACzB,OAAOlG,MAAM,GAAD,OAAIxB,EAAJ,eAAqB,CAC7ByB,OAAO,QACRC,MAAK,SAAAC,GACJ,OAAOA,EAASsD,UAEnBnD,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,OCwEb4F,EA5FK,WAClB,MAAwBtE,mBAAS,IAAjC,mBAAOK,EAAP,KAAakE,EAAb,KACA,EAA0BvE,oBAAS,GAAnC,mBAAO8B,EAAP,KAAcJ,EAAd,KACA,EAA8B1B,oBAAS,GAAvC,mBAAOmC,EAAP,KAAgBqC,EAAhB,KAEA,EAAwB3H,IAAhBiB,EAAR,EAAQA,KAAM2G,EAAd,EAAcA,MAWRC,EAAiB,SAACnC,GAEtBb,EAAS,IACT6C,EAAQhC,EAAMC,OAAOC,QAEjBkC,EAAmB,SAACpC,GACxBA,EAAMI,iBACNjB,EAAS,IACT8C,GAAW,GD5Be,SAACI,EAAOH,EAAMI,GACxC,OAAO1G,MAAM,GAAD,OAAIxB,EAAJ,4BAA2BiI,GAAS,CAChDxG,OAAO,OACPwE,QAAQ,CACRC,OAAO,mBACP,eAAe,mBACfiC,cAAa,iBAAYL,IAEzB3B,KAAK7F,KAAK4D,UAAUgE,KACjBxG,MAAK,SAAAC,GACJ,OAAOA,EAASsD,UAEnBnD,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,MCkBxBqG,CAAejH,EAAKsB,IAAKqF,EAAO,CAAEpE,SAC/BhC,MAAK,SAACwD,GACDA,EAAKC,MACPJ,GAAS,IAETA,EAAS,IACT8C,GAAW,GACXD,EAAQ,SAyChB,OACE,cAAC,EAAD,CACES,MAAM,uBACNjG,YAAY,qCACZnB,UAAU,2BAHZ,SAKE,qBAAKA,UAAU,uBAAf,SACE,sBAAKA,UAAU,uBAAf,UA3CiB,WACrB,GAAIuE,EACF,OAAO,oBAAIvE,UAAU,eAAd,2CA0CFqH,GAvCY,WACnB,GAAInD,EACF,OAAO,oBAAIlE,UAAU,eAAd,uCAsCFsH,GAhCL,+BACE,sBAAKtH,UAAU,aAAf,UACE,mBAAGA,UAAU,OAAb,gCACA,uBACEoF,KAAK,OACLpF,UAAU,oBACVuH,WAAS,EACTC,UAAQ,EACRC,YAAY,4BACZtC,SAAU2B,EACVjC,MAAOpC,IAET,wBACErC,QAAS2G,EACT/G,UAAU,0BAFZ,kCAtDJ,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,CAAMA,UAAU,8BAA8BC,GAAG,mBAAjD,kCC2COyH,EArDU,WACrB,MAAoCtF,mBAAS,IAA7C,mBAAOuF,EAAP,KAAmBC,EAAnB,KAEF,EAAwB3I,IAAxB,EAAQiB,KAAR,EAAc2G,MAiBZ,OAJF1C,qBAAU,WAXRsC,IACGhG,MAAK,SAACwD,GACDA,EAAKC,MACPvD,QAAQC,IAAIqD,EAAKC,OAEjB0D,EAAc3D,MAGjBpD,OAAM,SAACC,GAAD,OAASH,QAAQC,IAAIE,QAK7B,IAGG,eAAC,EAAD,CAAMI,MAAM,gBAAgBC,YAAY,uBAAxC,UACF,oBAAInB,UAAU,OAAd,2BACA,cAAC,IAAD,CAAMA,UAAU,eAAeC,GAAE,mBAAjC,SACE,sBAAMD,UAAU,GAAhB,0BAEF,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,SAAf,UACE,oBAAIA,UAAU,8BAAd,8BACC2H,EAAWrE,KAAI,SAAC2D,EAAU1D,GACzB,OACE,sBAAiBvD,UAAU,wBAA3B,UAEE,qBAAKA,UAAU,QAAf,SACE,oBAAIA,UAAU,uBAAd,SAAsCiH,EAASxE,SAEjD,qBAAKzC,UAAU,QAAf,SACE,cAAC,IAAD,CACEA,UAAU,kBACVC,GAAE,iCAA4BgH,EAASzF,KAFzC,SAIE,sBAAMxB,UAAU,GAAhB,0BAVIuD,eCkKTsE,EAjMI,WACjB,MAAwB5I,IAAhBiB,EAAR,EAAQA,KAAM2G,EAAd,EAAcA,MAEd,EAA4BzE,mBAAS,CACnCK,KAAM,GACNtB,YAAa,GACbyB,MAAO,GACPkF,MAAO,GACPC,MAAO,GACPJ,WAAY,GACZV,SAAU,GACVzB,SAAS,EACTtB,MAAO,GACP8D,eAAgB,GAChBC,cAAc,EACdC,SAAS,KAZX,mBAAO1D,EAAP,KAAeC,EAAf,KAgBEhC,EAYE+B,EAZF/B,KACAtB,EAWEqD,EAXFrD,YACAyB,EAUE4B,EAVF5B,MACAkF,EASEtD,EATFsD,MAEAH,GAOEnD,EARFuD,MAQEvD,EAPFmD,YAGAzD,GAIEM,EANFyC,SAMEzC,EALFgB,QAKEhB,EAJFN,OACA8D,EAGExD,EAHFwD,eAEAE,GACE1D,EAFFyD,aAEEzD,EADF0D,UAkBF/D,qBAAU,WAbRsC,IAAgBhG,MAAK,SAAAwD,GACnBtD,QAAQC,IAAIqD,GACRA,EAAKC,MACPO,EAAU,2BAAKD,GAAN,IAAcN,MAAOD,EAAKC,SAEnCO,EAAU,2BAAKD,GAAN,IAAcmD,WAAY1D,EAAMiE,SAAU,IAAIC,iBAU1D,IAEH,IAAMrD,EAAW,SAACH,GAChBA,EAAMI,iBACNN,EAAU,2BAAKD,GAAN,IAAcN,MAAO,GAAIsB,SAAS,EAAKyC,cAAa,KH5BnC,SAACjB,EAAQH,EAAOvF,GAC1C,OAAOf,MAAM,GAAD,OAAIxB,EAAJ,2BAA0BiI,GAAU,CAC9CxG,OAAQ,OACRwE,QAAS,CACPC,OAAQ,mBACRiC,cAAc,UAAD,OAAYL,IAE3B3B,KAAM5D,IAELb,MAAK,SAAAC,GACJ,OAAOA,EAASsD,UAEjBnD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,MGiB5BsH,CAAelI,EAAKsB,IAAKqF,EAAOqB,GAAUzH,MAAK,SAACwD,GAC1CA,EAAKC,MACPO,EAAU,2BAAKD,GAAN,IAAcN,MAAOD,EAAKC,SAEnCO,EAAU,2BACLD,GADI,IAEP/B,KAAM,GACNtB,YAAa,GACbyB,MAAO,GACPmF,MAAO,GACPD,MAAO,GACPtC,SAAS,EACTyC,cAAc,EACdD,eAAgB/D,EAAKxB,KACrByF,SAAS,IAAIC,eAGhBtH,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,OAGtB4D,EAAa,SAAAjC,GAAI,OAAE,SAAAkC,GACrB,IAAME,EAAgB,UAAPpC,EAAgBkC,EAAMC,OAAOyD,MAAM,GAAG1D,EAAMC,OAAOC,MAElEqD,EAASI,IAAI7F,EAAKoC,GAClBJ,EAAU,2BAAID,GAAL,kBAAa/B,EAAMoC,OAkGhC,OACE,eAAC,EAAD,CACE3D,MAAM,qBACNC,YAAY,sCACZnB,UAAU,2BAHZ,UAKE,cAAC,IAAD,CAAMC,GAAG,mBAAmBD,UAAU,2BAAtC,wBAGA,qBAAKA,UAAU,iCAAf,SACE,sBAAKA,UAAU,uBAAf,UAvFJ,iCACE,8CACA,qBAAKA,UAAU,aAAf,SACE,uBAAOA,UAAU,4BAAjB,SACE,uBACEmF,SAAUT,EAAa,SACvBU,KAAK,OACL3C,KAAK,QACL8F,OAAO,QACPd,YAAY,sBAIlB,qBAAKzH,UAAU,aAAf,SACE,uBACEmF,SAAUT,EAAa,QACvBjC,KAAK,QACLzC,UAAU,eACVyH,YAAY,OACZ5C,MAAOpC,MAGX,qBAAKzC,UAAU,aAAf,SACE,0BACEmF,SAAUT,EAAa,eACvBjC,KAAK,QACLzC,UAAU,eACVyH,YAAY,cACZ5C,MAAO1D,MAGX,qBAAKnB,UAAU,aAAf,SACE,uBACEmF,SAAUT,EAAa,SACvBU,KAAK,SACLpF,UAAU,eACVyH,YAAY,QACZ5C,MAAOjC,MAGX,qBAAK5C,UAAU,aAAf,SACE,yBACEmF,SAAUT,EAAa,YACvB1E,UAAU,eACVyH,YAAY,WAHd,UAKE,4CACCE,GACCA,EAAWrE,KAAI,SAACkF,EAAMjF,GAEpB,OACE,wBAAoBsB,MAAO2D,EAAKhH,IAAhC,SACGgH,EAAK/F,MADKc,WAOvB,qBAAKvD,UAAU,aAAf,SACE,uBACEmF,SAAUT,EAAa,SACvBU,KAAK,SACLpF,UAAU,eACVyH,YAAY,WACZ5C,MAAOiD,MAIX,wBACE1C,KAAK,SACLhF,QAAS0E,EACT9E,UAAU,+BAHZ,+BApFA,qBAAKA,UAAU,2BACfF,MAAO,CAACwF,QAAS0C,EAAe,GAAG,QADnC,SAEA,+BAAKA,EAAL,6BAMF,qBAAKhI,UAAU,0BACbF,MAAO,CAACwF,QAASpB,EAAM,GAAG,QAD5B,SAEE,yCAAYA,gBCrBHuE,EAxEQ,WACrB,MAAgCrG,mBAAS,IAAzC,mBAAOwB,EAAP,KAAiB8E,EAAjB,KAEA,EAAwBzJ,IAAhBiB,EAAR,EAAQA,KAAM2G,EAAd,EAAcA,MACR8B,EAAU,WJwCPpI,MAAM,GAAD,OAAIxB,EAAJ,aAAmB,CAC3ByB,OAAO,QACRC,MAAK,SAAAC,GACJ,OAAOA,EAASsD,UAEnBnD,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,MI3CrBL,MAAK,SAACwD,GACDA,EAAKC,MACPvD,QAAQC,IAAIqD,EAAKC,OAEjBwE,EAAYzE,MAGfpD,OAAM,SAACC,GAAD,OAASH,QAAQC,IAAIE,OAIhCqD,qBAAU,WACRwE,MACC,IAEH,IAAMC,EAAkB,SAAAvF,IJ8DI,SAAC2D,EAAOH,EAAMxD,GACxC,OAAO9C,MAAM,GAAD,OAAKxB,EAAL,oBAAoBsE,EAApB,YAAiC2D,GAAS,CAClDxG,OAAQ,SACRwE,QAAQ,CACJC,OAAO,mBACPiC,cAAc,UAAD,OAAWL,MAE7BpG,MAAK,SAAAC,GACJ,OAAOA,EAASsD,UAEnBnD,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,OIvEtB+H,CAAe3I,EAAKsB,IAAIqF,EAAMxD,GAAW5C,MAAK,SAAAwD,GACvCA,EAAKC,MACJvD,QAAQC,IAAIqD,EAAKC,OAEjByE,OAEL9H,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,OAG9B,OACE,eAAC,EAAD,CAAMI,MAAM,gBAAgBC,YAAY,uBAAxC,UACE,oBAAInB,UAAU,OAAd,2BACA,cAAC,IAAD,CAAMA,UAAU,eAAeC,GAAE,mBAAjC,SACE,sBAAMD,UAAU,GAAhB,0BAEF,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,SAAf,UACE,oBAAIA,UAAU,8BAAd,8BACC4D,EAASN,KAAI,SAAChC,EAASiC,GACtB,OACE,sBAAiBvD,UAAU,wBAA3B,UAEE,qBAAKA,UAAU,QAAf,SACE,oBAAIA,UAAU,uBAAd,SAAsCsB,EAAQmB,SAEhD,qBAAKzC,UAAU,QAAf,SACE,cAAC,IAAD,CACEA,UAAU,kBACVC,GAAE,gCAA2BqB,EAAQE,KAFvC,SAIE,sBAAMxB,UAAU,GAAhB,wBAGJ,qBAAKA,UAAU,QAAf,SACE,wBAAQI,QAAS,WACbwI,EAAkBtH,EAAQE,MAE3BxB,UAAU,iBAHb,wBAdMuD,eCsKTuF,EA5MO,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACvB,EAAwB9J,IAAhBiB,EAAR,EAAQA,KAAM2G,EAAd,EAAcA,MAEd,EAA4BzE,mBAAS,CACnCK,KAAM,GACNtB,YAAa,GACbyB,MAAO,GACPkF,MAAO,GACPC,MAAO,GACPJ,WAAY,GACZV,SAAU,GACVzB,SAAS,EACTtB,MAAO,GACP8D,eAAgB,GAChBC,cAAc,EACdC,SAAU,KAZZ,mBAAO1D,EAAP,KAAeC,EAAf,KAgBEhC,EAWE+B,EAXF/B,KACAtB,EAUEqD,EAVFrD,YACAyB,EASE4B,EATF5B,MACAkF,EAQEtD,EARFsD,MACAH,EAOEnD,EAPFmD,WAIAK,GAGExD,EANFyC,SAMEzC,EALFgB,QAKEhB,EAJFN,MAIEM,EAHFwD,gBAEAE,GACE1D,EAFFyD,aAEEzD,EADF0D,UAGIS,EAAU,SAAAtF,ILmBQ,SAACA,GACvB,OAAO9C,MAAM,GAAD,OAAIxB,EAAJ,oBAAmBsE,GAAY,CACvC7C,OAAO,QACRC,MAAK,SAAAC,GACJ,OAAOA,EAASsD,UACjBnD,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,OKvB1BkI,CAAW3F,GAAW5C,MAAK,SAAAwD,GAErBA,EAAKC,MACPO,EAAU,2BAAKD,GAAN,IAAcN,MAAOD,EAAKC,UAEnC+E,IACAxE,EAAU,2BACLD,GADI,IAEP/B,KAAMwB,EAAKxB,KACXtB,YAAa8C,EAAK9C,YAClByB,MAAOqB,EAAKrB,MACZqE,SAAUhD,EAAKgD,SAASzF,IACxBsG,MAAO7D,EAAK6D,MACZI,SAAU,IAAIC,gBAGjBtH,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,OAGtBmI,EAAoB,WACxBxC,IAAgBhG,MAAK,SAAAwD,GACfA,EAAKC,MACPO,EAAU,2BAAKD,GAAN,IAAcN,MAAOD,EAAKC,SAEnCO,EAAU,CACRkD,WAAY1D,EACZiE,SAAU,IAAIC,eAMtBhE,qBAAU,WACRwE,EAAQI,EAAMG,OAAO7F,aACpB,IAGH,IAAMyB,EAAW,SAAAH,GACfA,EAAMI,iBACNN,EAAU,2BAAKD,GAAN,IAAcN,MAAO,GAAIsB,SAAS,KLVlB,SAACnC,EAAU2D,EAAOH,EAAMvF,GACjD,OAAOf,MAAM,GAAD,OAAIxB,EAAJ,oBAAmBsE,EAAnB,YAAgC2D,GAAS,CACrDxG,OAAO,MACPwE,QAAQ,CACRC,OAAO,mBACPiC,cAAa,iBAAYL,IAEzB3B,KAAK5D,IACFb,MAAK,SAAAC,GACJ,OAAOA,EAASsD,UAEnBnD,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,MKCxBqI,CAAcJ,EAAMG,OAAO7F,UAAWnD,EAAKsB,IAAKqF,EAAOqB,GAAUzH,MAC/D,SAAAwD,GACMA,EAAKC,MACPO,EAAU,2BAAKD,GAAN,IAAcN,MAAOD,EAAKC,SAEnCO,EAAU,2BACLD,GADI,IAEP/B,KAAM,GACNtB,YAAa,GACbyB,MAAO,GACPmF,MAAO,GACPD,MAAO,GACPtC,SAAS,EACTwC,eAAgB/D,EAAKxB,WAI3B5B,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,OAGrB4D,EAAe,SAAAjC,GAAI,OAAI,SAAAkC,GAC3B,IAAME,EAAiB,UAATpC,EAAmBkC,EAAMC,OAAOyD,MAAM,GAAK1D,EAAMC,OAAOC,MACtEqD,EAASI,IAAI7F,EAAMoC,GACnBJ,EAAU,2BAAKD,GAAN,kBAAe/B,EAAOoC,OAwFjC,OACE,eAAC,EAAD,CACE3D,MAAM,sBACNC,YAAY,sCACZnB,UAAU,wBAHZ,UAKE,cAAC,IAAD,CAAMC,GAAG,mBAAmBD,UAAU,2BAAtC,wBAGA,qBAAKA,UAAU,iCAAf,SACE,sBAAKA,UAAU,uBAAf,UA9FJ,qBACEA,UAAU,2BACVF,MAAO,CAAEwF,QAAS0C,EAAiB,GAAK,QAF1C,SAIE,+BAAKA,EAAL,6BAKF,iCACE,8CACA,qBAAKhI,UAAU,aAAf,SACE,uBAAOA,UAAU,4BAAjB,SACE,uBACEmF,SAAUT,EAAa,SACvBU,KAAK,OACL3C,KAAK,QACL8F,OAAO,QACPd,YAAY,sBAIlB,qBAAKzH,UAAU,aAAf,SACE,uBACEmF,SAAUT,EAAa,QACvBjC,KAAK,QACLzC,UAAU,eACVyH,YAAY,OACZ5C,MAAOpC,MAGX,qBAAKzC,UAAU,aAAf,SACE,0BACEmF,SAAUT,EAAa,eACvBjC,KAAK,QACLzC,UAAU,eACVyH,YAAY,cACZ5C,MAAO1D,MAGX,qBAAKnB,UAAU,aAAf,SACE,uBACEmF,SAAUT,EAAa,SACvBU,KAAK,SACLpF,UAAU,eACVyH,YAAY,QACZ5C,MAAOjC,MAGX,qBAAK5C,UAAU,aAAf,SACE,yBACEmF,SAAUT,EAAa,YACvB1E,UAAU,eACVyH,YAAY,WAHd,UAKE,4CACCE,GACCA,EAAWrE,KAAI,SAACkF,EAAMjF,GAAP,OACb,wBAAoBsB,MAAO2D,EAAKhH,IAAhC,SACGgH,EAAK/F,MADKc,WAMrB,qBAAKvD,UAAU,aAAf,SACE,uBACEmF,SAAUT,EAAa,SACvBU,KAAK,SACLpF,UAAU,eACVyH,YAAY,QACZ5C,MAAOiD,MAIX,wBACE1C,KAAK,SACLhF,QAAS0E,EACT9E,UAAU,+BAHZ,wCCxFSoJ,EA5FQ,SAAC,GAAa,IAAZL,EAAW,EAAXA,MACvB,EAAwB3G,mBAAS,IAAjC,mBAAOK,EAAP,KAAakE,EAAb,KACA,EAA0BvE,oBAAS,GAAnC,mBAAO8B,EAAP,KAAcJ,EAAd,KACA,EAA8B1B,oBAAS,GAAvC,mBAAOmC,EAAP,KAAgBqC,EAAhB,KAEA,EAAwB3H,IAAhBiB,EAAR,EAAQA,KAAM2G,EAAd,EAAcA,MAWRC,EAAiB,SAACnC,GAEtBb,EAAS,IACT6C,EAAQhC,EAAMC,OAAOC,QAEjBkC,EAAmB,SAACpC,GACxBA,EAAMI,iBACNjB,EAAS,IACT8C,GAAW,GN2Ee,SAACyC,EAAWrC,EAAOH,EAAMyC,GACnD,OAAO/I,MAAM,GAAD,OAAIxB,EAAJ,qBAAoBsK,EAApB,YAAkCrC,GAAS,CACvDxG,OAAO,MACPwE,QAAQ,CACRC,OAAO,mBACPiC,cAAa,iBAAYL,IAEzB3B,KAAKoE,IACF7I,MAAK,SAAAC,GACJ,OAAOA,EAASsD,UAEnBnD,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,MMpFxByI,CAAeR,EAAMG,OAAOG,WAAWnJ,EAAKsB,IAAKqF,EAAO,CAAEpE,SACvDhC,MAAK,SAACwD,GACDA,EAAKC,MACPJ,GAAS,IAETA,EAAS,IACT8C,GAAW,GACXD,EAAQ,SAyChB,OACE,cAAC,EAAD,CACES,MAAM,uBACNjG,YAAY,qCACZnB,UAAU,2BAHZ,SAKE,qBAAKA,UAAU,uBAAf,SACE,sBAAKA,UAAU,uBAAf,UA3CiB,WACrB,GAAIuE,EACF,OAAO,oBAAIvE,UAAU,eAAd,2CA0CFqH,GAvCY,WACnB,GAAInD,EACF,OAAO,oBAAIlE,UAAU,eAAd,uCAsCFsH,GAhCL,+BACE,sBAAKtH,UAAU,aAAf,UACE,mBAAGA,UAAU,OAAb,gCACA,uBACEoF,KAAK,OACLpF,UAAU,oBACVuH,WAAS,EACTC,UAAQ,EACRC,YAAY,4BACZtC,SAAU2B,EACVjC,MAAOpC,IAET,wBACErC,QAAS2G,EACT/G,UAAU,0BAFZ,kCAtDJ,qBAAKA,UAAU,OAAf,SACE,cAAC,IAAD,CAAMA,UAAU,8BAA8BC,GAAG,mBAAjD,kC,iBC0FOuJ,EAjGE,SAAC,GAA0D,IAAxD5F,EAAuD,EAAvDA,SAAuD,IAA7C5B,iBAA6C,MAAjC,SAAAC,GAAC,OAAIA,GAA4B,MAAzBC,cAAyB,WAAhBC,EAAgB,EACzE,EAAwBC,mBAAS,CAC/BoD,SAAS,EACTjB,SAAS,EACTkF,YAAa,KACbvF,MAAO,GACPwF,SAAU,KALZ,mBAAOC,EAAP,KAAaC,EAAb,KAQM5C,EAAS/H,KAAqBA,IAAkBiB,KAAKsB,IACrDqF,EAAQ5H,KAAqBA,IAAkB4H,MAE/CgD,EAAW,SAAC7C,EAAQH,ICnBF,SAACG,EAAQH,GACjC,OAAOtG,MAAM,GAAD,OAAIxB,EAAJ,6BAA4BiI,GAAU,CAChDxG,OAAQ,MACRwE,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChBiC,cAAc,UAAD,OAAYL,MAG1BpG,MAAK,SAAAC,GACJ,OAAOA,EAASsD,UAEjBnD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,ODQ1BgJ,CAAW9C,EAAQH,GAAOpG,MAAK,SAAAkJ,GAE7B,GAAIA,EAAKzF,MACP0F,EAAQ,2BAAKD,GAAN,IAAYzF,MAAOyF,EAAKzF,aAC1B,CACL,IAAMuF,EAAcE,EAAKF,YACzBG,EAAQ,CAAEH,qBA0BhBtF,qBAAU,WACR0F,EAAS7C,EAAQH,KAChB,IAEH,IAAMkD,EAAa,WACjBH,EAAQ,CAAEpE,SAAS,IAEJmE,EAAKD,SAASM,uBAAuBvJ,MAAK,SAAAwD,GAEvD,IAAMgG,EAAc,CAClBC,mBAFMjG,EAAKkG,MAGXC,OAAQC,MChDc,SAACrD,EAAQH,EAAOyD,GAC5C,OAAO/J,MAAM,GAAD,OAAIxB,EAAJ,8BAA6BiI,GAAU,CACjDxG,OAAQ,OACRwE,QAAS,CACPC,OAAQ,mBACR,eAAgB,mBAChBiC,cAAc,UAAD,OAAYL,IAE3B3B,KAAM7F,KAAK4D,UAAUqH,KAEpB7J,MAAK,SAAAC,GACJ,OAAOA,EAASsD,UAEjBnD,OAAM,SAAAC,GAAG,OAAIH,QAAQC,IAAIE,ODqCxByJ,CAAevD,EAAQH,EAAOoD,GAC3BxJ,MAAK,SAAAC,GACJkJ,EAAQ,2BAAKD,GAAN,IAAYpF,QAAS7D,EAAS6D,QAASiB,SAAS,KACvD7E,QAAQC,IAAI,mBACZ,IhBtBmBP,EgBsBbmK,EAAY,CAChB5G,SAAUA,EACV6G,eAAgB/J,EAASgK,YAAYC,GACrCP,OAAQ1J,EAASgK,YAAYN,SExEhB,SAACpD,EAAOH,EAAM2D,GAEnC7J,QAAQC,IAAI,iBACLL,MAAM,GAAD,OAAIxB,EAAJ,yBAAwBiI,GAAS,CACzCxG,OAAQ,OACRwE,QAAQ,CACJC,OAAQ,mBACR,eAAe,mBACfiC,cAAc,UAAD,OAAYL,IAE7B3B,KAAM7F,KAAK4D,UAAU,CAAC2H,MAAOJ,MAC9B/J,MAAK,SAAAC,GACJ,OAAOA,EAASsD,UAEnBnD,OAAM,SAAAC,GAAG,OAAEH,QAAQC,IAAIE,MF4DlB+J,CAAY7D,EAAQH,EAAO2D,GhB3BRnK,EgB4BT,WACRM,QAAQC,IAAI,6BhB5BKuB,WAAXjD,SAERC,aAAamB,WAAW,QAExBnB,aAAa6D,QAAQ,OAAO3D,KAAK4D,UADxB,KAET5C,KgB0BA2B,GAAWE,MAEZrB,OAAM,SAAAqD,GACL0F,EAAQ,CAAEpE,SAAS,EAAOjB,SAAS,IACnC5D,QAAQC,IAAI,yBAKdyJ,EAAY,WAChB,IAAID,EAAS,EAIb,OAHAxG,EAASN,KAAI,SAAAwH,GACXV,GAAkBU,EAAElI,SAEfwH,GAGT,OACE,gCACE,+CAAkBC,IAAlB,QAjEA,8BACwB,OAArBV,EAAKF,aAAwB7F,EAASmH,OAAS,EAC9C,gCACA,+CACE,cAAC,IAAD,CACEC,QAAS,CAAEC,cAAetB,EAAKF,aAC/ByB,WAAY,SAAAxB,GAAQ,OAAKC,EAAKD,SAAWA,KAE3C,wBAAQ1J,UAAU,4BAA4BI,QAAS2J,EAAvD,oBAKF,6EGDKoB,EAvCF,WACX,MAAgC/I,mBAAS,IAAzC,mBAAOwB,EAAP,KAAiBC,EAAjB,KACA,EAAyBzB,oBAAS,GAAlC,mBAAOF,EAAP,KAAcF,EAAd,KAEAmC,qBAAU,WACRN,EnBO0B,WACtB,QAAsB1B,WAAXjD,QACLC,aAAaC,QAAQ,QACvB,OAAOC,KAAKC,MAAMH,aAAaC,QAAQ,SmBVnCgM,MACX,CAAClJ,IAqBJ,OACE,cAAC,EAAD,CAAMhB,MAAM,YAAYC,YAAY,oBAApC,SACE,sBAAKnB,UAAU,kBAAf,UACE,qBAAKA,UAAU,QAAf,SAAwB4D,EAASmH,OAAO,EArBtB,SAACnH,GACvB,OACE,gCACE,kEACCA,EAASN,KAAI,SAAChC,EAASiC,GAAV,OACZ,cAAC,EAAD,CAEEjC,QAASA,EACTS,gBAAgB,EAChBD,WAAW,EACXE,UAAWA,EACXE,OAAQA,GALHqB,SAeiC8H,CAAgBzH,GAAW,uDACrE,qBAAK5D,UAAU,QAAf,SACE,cAAC,EAAD,CAAU4D,SAAUA,EAAU5B,UAAWA,YCgCpCsJ,EArDA,WACb,OACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO7L,KAAK,IAAI8L,OAAK,EAACzF,UAAWnC,IACjC,cAAC,IAAD,CAAOlE,KAAK,UAAU8L,OAAK,EAACzF,UAAW1B,IACvC,cAAC,IAAD,CAAO3E,KAAK,UAAU8L,OAAK,EAACzF,UAAWP,IACvC,cAAC,IAAD,CAAO9F,KAAK,QAAQ8L,OAAK,EAACzF,UAAWqF,IACrC,cAAC,EAAD,CACE1L,KAAK,kBACL8L,OAAK,EACLzF,UAAW0F,IAEb,cAAC,EAAD,CACE/L,KAAK,mBACL8L,OAAK,EACLzF,UAAW2F,IAEb,cAAC,EAAD,CACEhM,KAAK,yBACL8L,OAAK,EACLzF,UAAWY,IAEb,cAAC,EAAD,CACEjH,KAAK,oBACL8L,OAAK,EACLzF,UAAW4B,IAEb,cAAC,EAAD,CACEjI,KAAK,wBACL8L,OAAK,EACLzF,UAAW+B,IAEb,cAAC,EAAD,CACEpI,KAAK,kBACL8L,OAAK,EACLzF,UAAW2C,IAEb,cAAC,EAAD,CACEhJ,KAAK,mCACL8L,OAAK,EACLzF,UAAWgD,IAEb,cAAC,EAAD,CACErJ,KAAK,qCACL8L,OAAK,EACLzF,UAAWsD,U,eC7DrBsC,EAAS1F,OAAO,cAAC,EAAD,IAAU2F,SAASC,eAAe,W","file":"static/js/main.266145bb.chunk.js","sourcesContent":["export const API=process.env.REACT_APP_BACKEND;","import {API} from '../../backend';\r\n// API MEANS http://localhost:8000/api/\r\n\r\nexport const signup = (user) => {\r\n    return fetch(`${API}/signup`,{\r\n    method: \"POST\",\r\n    headers:{\r\n        Accept: \"application/json\",\r\n        \"Content-Type\":\"application/json\"\r\n    },\r\n    body:JSON.stringify(user)})\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\nexport const signin = user => {\r\n    return fetch(`${API}/signin`,{\r\n    method: \"POST\",\r\n    headers:{\r\n        Accept: \"application/json\",\r\n        \"Content-Type\":\"application/json\"\r\n    },\r\n    body:JSON.stringify(user)})\r\n    .then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n};\r\n\r\nexport const authenticate=(data,next)=>{\r\n    if(typeof window!==\"undefined\")\r\n    {\r\n        localStorage.setItem(\"jwt\", JSON.stringify(data))\r\n        next();\r\n        // remember the bearer token\r\n    }\r\n};\r\n\r\nexport const signout = next => {\r\n    if(typeof window!=\"undefined\")\r\n    {\r\n        localStorage.removeItem(\"jwt\");\r\n        next();\r\n        // next allows us to have callback\r\n        return fetch(`${API}/signout`,{\r\n            method: \"GET\"\r\n        })\r\n        // clearing jwt token after signout\r\n        .then(response=>console.log(\"signOut success\"))\r\n        .catch(err => console.log(err))\r\n    }\r\n};\r\n\r\nexport const isAuthenticated=()=>{\r\n    if(typeof window==\"undefined\")\r\n    {\r\n        return false;\r\n    }\r\n    if(localStorage.getItem(\"jwt\"))\r\n    {\r\n        return JSON.parse(localStorage.getItem(\"jwt\"));\r\n    }\r\n    else{\r\n        return false;\r\n    }\r\n};\r\n// first we are trying to get window object\r\n// in which we are saving this jwt\r\n// if we don't get access of window...it means user is not authenticated\r\n// else if get access to window and local storage of jwt\r\n// we are not directly returning true rather whatever jwt value is\r\n// and in frontend means our component we are going to again check it\r\n// whether the token is exactly same as the user we are looking up for\r\n// then only we are going to fire this up as true\r\n","import React, {Fragment} from 'react';\r\nimport {Link, withRouter} from \"react-router-dom\";\r\nimport { signout,isAuthenticated  } from '../auth/helper';\r\n\r\n\r\nconst currentTab=(history,path)=>{\r\n\r\n    // if path changes ...give diff color to link\r\n    if(history.location.pathname===path)\r\n    {\r\n        return {color:\"#2ecc72\"}\r\n    }\r\n    else{\r\n        return {color: \"#FFFFFF\"}\r\n    }\r\n};\r\n// history is given to us by link...as props in menu\r\nconst Menu = ({history}) => {\r\n    return ( \r\n        <div>\r\n            <ul \r\n            style={{cursor:'pointer'}}className=\" nav nav-tabs bg-dark\">\r\n                <li className=\"nav-item\">\r\n                    <Link style={currentTab(history,\"/\")}\r\n                     className=\"nav-link\" to=\"/\">\r\n                            Home\r\n                    </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link style={currentTab(history,\"/cart\")}\r\n                     className=\"nav-link\"\r\n                     to=\"/cart\">\r\n                            cart\r\n                    </Link>\r\n                </li>\r\n                {isAuthenticated() && isAuthenticated().user.role===0 && (  // if user is Normal user\r\n                    <li  className=\"nav-item\">\r\n                    <Link style={currentTab(history,\"/user/dashboard\")}\r\n                     className=\"nav-link\" \r\n                     to=\"/user/dashboard\">\r\n                            U.Dashboard\r\n                    </Link>\r\n                </li>\r\n                )}\r\n                {isAuthenticated() && isAuthenticated().user.role===1 && (  // if user is Admin\r\n                    <li  className=\"nav-item\">\r\n                    <Link style={currentTab(history,\"/admin/dashboard\")}\r\n                     className=\"nav-link\" \r\n                     to=\"/admin/dashboard\">\r\n                            A. Dashboard\r\n                    </Link>\r\n                </li>\r\n                )}\r\n                {!isAuthenticated() &&(\r\n                    <Fragment>\r\n                <li  className=\"nav-item\">\r\n                    <Link style={currentTab(history,\"/signup\")}\r\n                     className=\"nav-link\" \r\n                     to=\"/signup\">\r\n                            Signup\r\n                    </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link style={currentTab(history,\"/signin\")}\r\n                     className=\"nav-link\" \r\n                     to=\"/signin\">\r\n                            Signin\r\n                    </Link>\r\n                </li>\r\n                </Fragment>\r\n                )}\r\n                { isAuthenticated() && (            // only show signout button when user is signed In\r\n                <li className=\"nav-item\">\r\n                    <span style={{color:'yellow'}} className=\"nav-link\"\r\n                    onClick={()=>{\r\n                        signout(()=>{\r\n                            history.push(\"/\")\r\n                        })\r\n                    }}\r\n                    >\r\n                        SignOut\r\n                    </span>\r\n                </li>)}\r\n            </ul>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default withRouter(Menu);","// this is file where header and footer are mentioned and are called accordingly....bcz both header and footer\r\n// are going to be same on everyPage\r\nimport React from \"react\";\r\nimport Menu from \"./Menu\";\r\nconst Base = ({\r\n  title = \"My title\",\r\n  description = \"My description\",\r\n  className = \"bg-dark text-white p-4\",\r\n  children,\r\n}) => {\r\n  return (\r\n    <div>\r\n    <Menu></Menu>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"jumbotron bg-dark text-white text-center\">\r\n          <h2 className=\"display-4\">{title}</h2>\r\n          <p className=\"lead\">{description}</p>\r\n        </div>\r\n        <div className={className}>{children}</div>\r\n      </div>\r\n      <footer className=\"footer bg-dark mt-auto py-3\">\r\n        <div className=\"container-fluid bg-success text-white text-center\">\r\n          <h4>If you go any question, feel free to reach out</h4>\r\n          <button className=\"btn btn-warning bt-lg\">Contact Us</button>\r\n        </div>\r\n\r\n        <div className=\"container\">\r\n          <span className=\"text-muted\">An Amazing <span className=\"text-white\">MERN</span> Bootcamp</span>\r\n        </div>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n// if there is curly brace return is necessary\r\n\r\nexport default Base;\r\n","import React from \"react\";\r\nimport { API } from \"../../backend\";\r\n\r\nconst ImageHelper = ({ product }) => {\r\n\r\n  const imageurl = product\r\n    ? `${API}/product/photo/${product._id}`\r\n    : `https://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940`;\r\n  return (\r\n    <div className=\"rounded border border-success p-2\">\r\n      <img\r\n        src={imageurl}\r\n        alt=\"photo\"\r\n        style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n        className=\"mb-3 rounded\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageHelper;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ImageHelper from \"./helper/ImageHelper\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { addItemToCart, removeItemFromCart } from \"./helper/cartHelper\";\r\n\r\nconst Card = ({\r\n  product,\r\n  addtoCart = true,\r\n  removeFromCart = false,\r\n  setReload = f => f,\r\n  //   function(f){return f}\r\n  reload = undefined\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  const cartTitle = product ? product.name : \"A photo from pexels\";\r\n  const cartDescrption = product ? product.description : \"Default description\";\r\n  const cartPrice = product ? product.price : \"DEFAULT\";\r\n\r\n  const addToCart = () => {\r\n    addItemToCart(product, () => setRedirect(true));\r\n  };\r\n\r\n  const getARedirect = redirect => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCart = addtoCart => {\r\n    return (\r\n      addtoCart && (\r\n        <button\r\n          onClick={addToCart}\r\n          className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n        >\r\n          Add to Cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n\r\n  const showRemoveFromCart = removeFromCart => {\r\n    return (\r\n      removeFromCart && (\r\n        <button\r\n          onClick={() => {\r\n            removeItemFromCart(product._id);\r\n            setReload(!reload);\r\n          }}\r\n          className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n        >\r\n          Remove from cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"card text-white bg-dark border border-info \">\r\n      <div className=\"card-header lead\">{cartTitle}</div>\r\n      <div className=\"card-body\">\r\n        {getARedirect(redirect)}\r\n        <ImageHelper product={product} />\r\n        <p className=\"lead bg-success font-weight-normal text-wrap\">\r\n          {cartDescrption}\r\n        </p>\r\n        <p className=\"btn btn-success rounded  btn-sm px-4\">$ {cartPrice}</p>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">{showAddToCart(addtoCart)}</div>\r\n          <div className=\"col-12\">{showRemoveFromCart(removeFromCart)}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","\r\n    // we will be storing cart in local storage\r\n    export const addItemToCart = (item, next) => {\r\n        let cart = [];\r\n        if (typeof window !== undefined) {\r\n          if (localStorage.getItem(\"cart\")) {\r\n            cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n          }\r\n          cart.push({\r\n            ...item,\r\n            count: 1\r\n          });\r\n          localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n          next();\r\n        }\r\n      };\r\n\r\n\r\n      // loading item from local storeage and showing it on cart page\r\n      \r\n      export const loadCart = () => {\r\n        if (typeof window !== undefined) {\r\n          if (localStorage.getItem(\"cart\")) {\r\n            return JSON.parse(localStorage.getItem(\"cart\"));\r\n          }\r\n        }\r\n      };\r\n\r\n\r\n      export const removeItemFromCart = (productId) => {\r\n        let cart = [];\r\n        if (typeof window !== undefined) {\r\n          if (localStorage.getItem(\"cart\")) {\r\n            cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n          }\r\n          cart.map((product,index)=>{\r\n              if(product._id===productId)\r\n              {\r\n                  cart.splice(index,1)\r\n              }\r\n          })\r\n          localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n        }\r\n        return cart;\r\n      };\r\n\r\n\r\n      // empty the cart after checkout\r\n\r\n      export const cartEmpty=next=>{\r\n        if(typeof window !== undefined)\r\n        {\r\n          localStorage.removeItem(\"cart\");\r\n          let cart=[];\r\n          localStorage.setItem(\"cart\",JSON.stringify(cart));\r\n          next();\r\n        }\r\n      }\r\n\r\n\r\n\r\n\r\n      \r\n\r\n      \r\n      ","import React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport { API } from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { getProducts } from \"./helper/coreapicalls\";\r\n\r\nexport default function Home() {\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  const loadAllProduct = () => {\r\n    getProducts().then(data => {\r\n      if (data.error) {\r\n        setError(data.error);\r\n      } else {\r\n        setProducts(data);\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadAllProduct();\r\n  }, []);\r\n\r\n  return (\r\n    <Base title=\"Home Page\" description=\"Welcome to the Tshirt Store\">\r\n        <h1 className=\"text-white text-center\">All of tshirts</h1>\r\n      <div className=\"row text-center\">\r\n          {products.map((product, index) => {\r\n            return (\r\n              <div key={index} className=\"col-4 mb-4\">\r\n                <Card product={product}/>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n    </Base>\r\n  );\r\n}\r\n\r\n    {/*  parameter with base can be passed like */}\r\n    {/* inside of base is passed as children */}\r\n     ","import { API } from \"../../backend\";\r\n\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products`, { method: \"GET\" })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { signup } from \"../auth/helper\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Signup = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n  });\r\n  const { name, email, password, error, success } = values;\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n    // destructuring values u know that\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false });\r\n    signup({ name, email, password })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, success: false });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            success: true,\r\n          });\r\n        }\r\n        // clear the value once you signup\r\n      })\r\n      .catch(console.log(\"Error in signup\"));\r\n  };\r\n\r\n  const signUpForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Name</label>\r\n              <input\r\n                onChange={handleChange(\"name\")}\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                value={name}\r\n              ></input>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                onChange={handleChange(\"email\")}\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n                value={email}\r\n              ></input>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">password</label>\r\n              <input\r\n                onChange={handleChange(\"password\")}\r\n                className=\"form-control\"\r\n                type=\"password\"\r\n                value={password}\r\n              ></input>\r\n            </div>\r\n            <button\r\n              onClick={onSubmit}\r\n              style={{ marginTop: \"10px\" }}\r\n              className=\"btn btn-success btn-block\"\r\n            >\r\n              SignUp\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const successMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-success\"\r\n            style={{ display: success ? \"\" : \"none\" }}\r\n          >\r\n            New account was created successfully.\r\n            <Link to=\"/signin\">Login Here</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"sign up page\" description=\"A page for user ro signUp\">\r\n      {signUpForm()}\r\n      {successMessage()}\r\n      {errorMessage()}\r\n\r\n      <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    loading: false,\r\n    didRedirect: false,\r\n    //didRedirect will be true when the signed in user is admin....and will be redirected to Admin Dashboard\r\n  });\r\n\r\n  const { email, password, error, loading, didRedirect } = values;\r\n  // email=values.email\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    // values as it it ...and also mention additional tweaking\r\n    signin({ email, password })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, loading: false });\r\n          // if signin fails ...error=data.error and loading = false\r\n        } else {\r\n          authenticate(data, () => {\r\n            setValues({ ...values, didRedirect: true });\r\n          });\r\n        }\r\n      })\r\n      .catch(console.log(\"Signin Request failed\"));\r\n  };\r\n  const performRedirect = () => {\r\n    if (didRedirect) {\r\n      if (user && user.role === 1) {\r\n        // if user is admin\r\n        return <Redirect to=\"/admin/dashboard\"></Redirect>\r\n        // <p> redirect to admin </p>;\r\n      } else {\r\n        return <Redirect to=\"/user/dashboard\"></Redirect>\r\n        // <p>redirect to user Dashboard</p>;\r\n      }\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\"></Redirect>;\r\n    }\r\n    // once you signed in....jwt is stored ....which you have to delete it\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const loadingMessage = () => {\r\n    return (\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const signInForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                onChange={handleChange(\"email\")}\r\n                value={email}\r\n                className=\"form-control\"\r\n                type=\"text\"\r\n              ></input>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">password</label>\r\n              <input\r\n                onChange={handleChange(\"password\")}\r\n                value={password}\r\n                className=\"form-control\"\r\n                type=\"password\"\r\n              ></input>\r\n            </div>\r\n            <button\r\n              onClick={onSubmit}\r\n              style={{ marginTop: \"10px\" }}\r\n              className=\"btn btn-success btn-block\"\r\n            >\r\n              SignIn\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <Base title=\"sign in page\" description=\"A page for user ro signUp\">\r\n      {loadingMessage()}\r\n      {errorMessage()}\r\n      {signInForm()}\r\n      {performRedirect()}\r\n      <p className=\"text-white text-center\">{JSON.stringify.values}</p>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Signin;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        (isAuthenticated() && isAuthenticated().user.role===1) ? (\r\n          <Component {...props}></Component>      // will be sent from Routes.js\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\", \r\n              state: { from: props.location },\r\n            }}\r\n          ></Redirect>\r\n        )\r\n      }\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated() ? (      // if authenticated load the component\r\n          <Component {...props}></Component>\r\n        ) : (\r\n          <Redirect        // if not Authenticated redirect user to signin page to signin\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location },\r\n            }}\r\n          ></Redirect>\r\n        )\r\n      }\r\n    ></Route>\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from 'react';\r\nimport Base from '../core/Base'\r\nconst UserDashboard = () => {\r\n    return ( \r\n        <Base title=\"UserDashboard page\">\r\n            <h1>This is UserDashboard page</h1>\r\n        </Base>\r\n     );\r\n}\r\n \r\nexport default UserDashboard;","import React from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { isAuthenticated } from \"../auth/helper/index\";\r\nimport { Link } from \"react-router-dom\";\r\nconst AdminDashboard = () => {\r\n  const { user } = isAuthenticated();\r\n\r\n  const { name, email} = user;\r\n\r\n  const adminLeftSide = () => {\r\n    return (\r\n      <div className=\"card\">\r\n        <h4 className=\"card-header bg-dark text-white\">Admin Navigation</h4>\r\n        <ul className=\"list-group\">\r\n            <li className=\"list-group-item\">\r\n                <Link className=\"nav-link text-success\"\r\n                to=\"/admin/create/category\"\r\n                >Create Categories</Link>\r\n            </li>\r\n            <li className=\"list-group-item\">\r\n                <Link className=\"nav-link text-success\"\r\n                to=\"/admin/categories\"\r\n                >Manage Categories</Link>\r\n            </li>\r\n\r\n            <li className=\"list-group-item\">\r\n                <Link className=\"nav-link text-success\"\r\n                to=\"/admin/create/product\"\r\n                >Create Product</Link>\r\n            </li>\r\n            \r\n            <li className=\"list-group-item\">\r\n                <Link className=\"nav-link text-success\"\r\n                to=\"/admin/products\"\r\n                >Manage Products</Link>\r\n            </li>\r\n            \r\n            <li className=\"list-group-item\">\r\n                <Link className=\"nav-link text-success\"\r\n                to=\"/admin/orders\"\r\n                >Manage Orders</Link>\r\n            </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n  const adminRightSide = () => {\r\n    return (\r\n        <div className=\"card mb-4\">\r\n           <h4 className=\"card-header bg-dark text-white\">Admin Information</h4>\r\n           <ul style={{listStyleType:\"none\"}} className=\"list-group\">\r\n               <li classname=\"list-group-item\">\r\n                   <span className=\"badge badge-success mr-2\">Name:</span> {name}\r\n               </li>\r\n               <li classname=\"list-group-item\">\r\n                   <span className=\"badge badge-success mr-2\">Email:</span> {email}\r\n               </li>\r\n               <li classname=\"list-group-item\">\r\n                   <span className=\"badge badge-danger mr-2\">Admin area:</span> Admin\r\n               </li>\r\n           </ul>\r\n        </div>\r\n    )\r\n  };\r\n\r\n  return (\r\n    <Base\r\n      title=\"Welcome to Admin area\"\r\n      description=\"Manage all of your Products Here\"\r\n      className=\"container bg-success p-4\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">{adminLeftSide()}</div>\r\n        <div className=\"col-9\">{adminRightSide()}</div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import { API } from \"../../backend\";\r\n//category calls\r\nexport const createCategory = (userId,token,category) => {\r\n    return fetch(`${API}/category/create/${userId}`,{\r\n    method:\"POST\",\r\n    headers:{\r\n    Accept:\"application/json\",\r\n    \"Content-Type\":\"application/json\",\r\n    Authorization :`Bearer ${token}`\r\n    },\r\n    body:JSON.stringify(category)               // look into postman....you had body as raw data...ithink so\r\n    }).then(response=>{\r\n        return response.json()\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n \r\n\r\n\r\n//get all categories\r\nexport const getCategories = () => {\r\n    return fetch(`${API}/categories`,{\r\n        method:\"GET\"\r\n    }).then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n \r\n\r\n\r\n//product calls\r\nexport const createaProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: product\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n \r\n\r\n\r\n//get all products\r\nexport const getAllProducts = () => {\r\n    return fetch(`${API}/products`,{\r\n        method:\"GET\"\r\n    }).then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n \r\n\r\n\r\n//get a single product\r\nexport const getproduct = (productId) => {\r\n    return fetch(`${API}/product/${productId}`,{\r\n        method:\"GET\"\r\n    }).then(response=>{\r\n        return response.json();\r\n    }).catch(err=>console.log(err))\r\n}\r\n \r\n\r\n \r\n//update a product\r\nexport const updateProduct = (productId,userId,token,product) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`,{\r\n    method:\"PUT\",\r\n    headers:{\r\n    Accept:\"application/json\",\r\n    Authorization :`Bearer ${token}`\r\n    },\r\n    body:product               // look into postman....you had body as raw data...ithink so\r\n    }).then(response=>{\r\n        return response.json()\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n \r\n\r\n\r\n//delete a product\r\nexport const deleteaProduct = (userId,token,productId) => {\r\n    return fetch( `${API}/product/${productId}/${userId}`,{\r\n        method: \"DELETE\",\r\n        headers:{\r\n            Accept:\"application/json\",\r\n            Authorization:`Bearer ${token}`\r\n        }\r\n    }).then(response=>{\r\n        return response.json()\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n//delete category\r\n\r\nexport const updateCategory = (categoryId,userId,token,Category) => {\r\n    return fetch(`${API}/category/${categoryId}/${userId}`,{\r\n    method:\"PUT\",\r\n    headers:{\r\n    Accept:\"application/json\",\r\n    Authorization :`Bearer ${token}`\r\n    },\r\n    body:Category               // look into postman....you had body as raw data...ithink so\r\n    }).then(response=>{\r\n        return response.json()\r\n    })\r\n    .catch(err=>console.log(err));\r\n}\r\n\r\n\r\n \r\n","import React, { useState } from \"react\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {createCategory} from \"./helper/adminapicall\";\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const goBack = () => {\r\n    return (\r\n      <div className=\"mt-5\">\r\n        <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">\r\n          Admin Home\r\n        </Link>\r\n      </div>\r\n    );\r\n  };\r\n  const onhandleChange = (event) => {\r\n    //we never interact directly with name or anything\r\n    setError(\"\");\r\n    setName(event.target.value);\r\n  };\r\n  const onCategorySubmit = (event) => {\r\n    event.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    //backend request fired\r\n    createCategory(user._id, token, { name }) // name should be sent in json format\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setError(true);\r\n        } else {\r\n          setError(\"\");\r\n          setSuccess(true);\r\n          setName(\"\");\r\n        }\r\n      });\r\n  };\r\n\r\n  const successMessage = () => {\r\n    if (success) {\r\n      return <h4 className=\"text-success\">Category created successfully</h4>;\r\n    }\r\n  };\r\n  const errorMessage = () => {\r\n    if (error) {\r\n      return <h4 className=\"text-success\">failed to create category</h4>;\r\n    }\r\n  };\r\n\r\n  const myCategoryForm = () => {\r\n    return (\r\n      <form>\r\n        <div className=\"form-group\">\r\n          <p className=\"lead\">Enter the category</p>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control my-3\"\r\n            autoFocus\r\n            required\r\n            placeholder=\"For-eg: Summer Collection\"\r\n            onChange={onhandleChange}\r\n            value={name}\r\n          ></input>\r\n          <button\r\n            onClick={onCategorySubmit}\r\n            className=\"btn btn-outline-success\"\r\n          >\r\n            Create Category\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base\r\n      tilte=\"Create category here\"\r\n      description=\"Add a new category for new Tshirts\"\r\n      className=\"container bg-success p-4\"\r\n    >\r\n      <div className=\"row bg-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {errorMessage()}\r\n          {myCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AddCategory;\r\n","import React,{useState,useEffect} from 'react';\r\nimport Base from '../core/Base'\r\nimport { Link } from 'react-router-dom';\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport { getCategories,deleteCategory } from './helper/adminapicall';\r\n\r\nconst ManageCategories = () => {\r\n    const [categories, setcategories] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const preload = () => {\r\n    getCategories()\r\n      .then((data) => {\r\n        if (data.error) {\r\n          console.log(data.error);\r\n        } else {\r\n          setcategories(data);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n  // loads before component mount\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n    return ( \r\n        <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total 3 products</h2>\r\n          {categories.map((category, index) => {\r\n            return (\r\n              <div key={index} className=\"row text-center mb-2 \">\r\n                {/* key={index} ensures we are getting different row at each iteration */}\r\n                <div className=\"col-4\">\r\n                  <h3 className=\"text-white text-left\">{category.name}</h3>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <Link\r\n                    className=\"btn btn-success\"\r\n                    to={`/admin/category/update/${category._id}`}\r\n                  >\r\n                    <span className=\"\">Update</span>\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n     );\r\n}\r\n \r\nexport default ManageCategories;","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createaProduct,getCategories } from \"./helper/adminapicall\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\n\r\nconst AddProduct = () => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getaRedirect: false,\r\n    formData:\"\",\r\n  });\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    photo,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getaRedirect,\r\n    formData,\r\n  } = values;\r\n\r\n  const preload = () => {\r\n    //load data before page loads\r\n    getCategories().then(data => {\r\n      console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({ ...values, categories: data, formData: new FormData() });\r\n        // initialize form data\r\n        // console.log(\"CATE:\",categories);  bug\r\n      }\r\n    });\r\n  };\r\n\r\n  //calling preload\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true,getaRedirect:true });\r\n    createaProduct(user._id, token, formData).then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: \"\",\r\n          description: \"\",\r\n          price: \"\",\r\n          photo: \"\",\r\n          stock: \"\",\r\n          loading: false,\r\n          getaRedirect: false,\r\n          createdProduct: data.name,\r\n          formData:new FormData()\r\n        });\r\n      }\r\n    }).catch(err=>console.log(err));\r\n  };\r\n\r\n  const handleChange=name=>event=> {\r\n      const value = (name===\"photo\")?event.target.files[0]:event.target.value;\r\n      // if photo changes/come grab the file else grab the value\r\n      formData.set(name,value);\r\n      setValues({...values,[name]:value});\r\n  };\r\n\r\n  const successMessage=()=>{\r\n      return(\r\n      <div className=\"alert alert-success mt-3\"\r\n      style={{display: createdProduct?\"\":\"none\"}}>\r\n      <h4>{createdProduct} created Successfully</h4>\r\n      </div>\r\n      )\r\n  }\r\n  const errorMessage = () => {\r\n    return(\r\n    <div className=\"alert alert-danger mt-3\"\r\n      style={{display: error?\"\":\"none\"}}>\r\n      <h4>erros: {error}</h4>\r\n      </div>\r\n    )\r\n  };\r\n\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => {\r\n              // map will loop through categories\r\n              return (\r\n                <option key={index} value={cate._id}>\r\n                  {cate.name}\r\n                </option>\r\n              );\r\n            })}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Quantity\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3\"\r\n      >\r\n        Create Product\r\n      </button>\r\n    </form>\r\n  );\r\n  return (\r\n    <Base\r\n      title=\"Add a product here\"\r\n      description=\"Welcome to product creation section\"\r\n      className=\"container bg-success p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">{createProductForm()}{successMessage()}{errorMessage()}</div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default AddProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport Base from \"../core/Base\";\r\nimport { deleteaProduct, getAllProducts } from \"./helper/adminapicall\";\r\n\r\n// useEffects used to preload\r\nconst ManageProducts = () => {\r\n  const [products, setproducts] = useState([]);\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const preload = () => {\r\n    getAllProducts()\r\n      .then((data) => {\r\n        if (data.error) {\r\n          console.log(data.error);\r\n        } else {\r\n          setproducts(data);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  // loads before component mount\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const deleteThisProduct=productId=>{\r\n      deleteaProduct(user._id,token,productId).then(data=>{\r\n          if(data.error){\r\n              console.log(data.error);\r\n          }else{\r\n              preload();\r\n          }\r\n      }).catch(err=>console.log(err));\r\n  }\r\n\r\n  return (\r\n    <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total 3 products</h2>\r\n          {products.map((product, index) => {\r\n            return (\r\n              <div key={index} className=\"row text-center mb-2 \">\r\n                {/* key={index} ensures we are getting different row at each iteration */}\r\n                <div className=\"col-4\">\r\n                  <h3 className=\"text-white text-left\">{product.name}</h3>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <Link\r\n                    className=\"btn btn-success\"\r\n                    to={`/admin/product/update/${product._id}`}\r\n                  >\r\n                    <span className=\"\">Update</span>\r\n                  </Link>\r\n                </div>\r\n                <div className=\"col-4\">\r\n                  <button onClick={()=>{\r\n                      deleteThisProduct(product._id);\r\n                    //   cannot write function directly with parameters: like onClick={deleteThisProduct{product._id}}\r\n                  }} className=\"btn btn-danger\">\r\n                    Delete\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default ManageProducts;\r\n","// here we will be getting product id from url.....because no one is passing us\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  getCategories,\r\n  getproduct,\r\n  updateProduct\r\n} from \"./helper/adminapicall\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    photo: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getaRedirect: false,\r\n    formData: \"\"\r\n  });\r\n\r\n  const {\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getaRedirect,\r\n    formData\r\n  } = values;\r\n\r\n  const preload = productId => {\r\n    getproduct(productId).then(data => {\r\n      //console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        preloadCategories();\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          category: data.category._id,\r\n          stock: data.stock,\r\n          formData: new FormData()\r\n        });\r\n      }\r\n    }).catch(err=>console.log(err));\r\n  };\r\n\r\n  const preloadCategories = () => {\r\n    getCategories().then(data => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          categories: data,\r\n          formData: new FormData()\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    preload(match.params.productId);\r\n  }, []);\r\n\r\n  //TODO: work on it\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData).then(\r\n      data => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            description: \"\",\r\n            price: \"\",\r\n            photo: \"\",\r\n            stock: \"\",\r\n            loading: false,\r\n            createdProduct: data.name\r\n          });\r\n        }\r\n      }\r\n    ).catch(err=>console.log(err));\r\n  };\r\n\r\n  const handleChange = name => event => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => (\r\n    <div\r\n      className=\"alert alert-success mt-3\"\r\n      style={{ display: createdProduct ? \"\" : \"none\" }}\r\n    >\r\n      <h4>{createdProduct} updated successfully</h4>\r\n    </div>\r\n  );\r\n\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => (\r\n              <option key={index} value={cate._id}>\r\n                {cate.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Stock\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3\"\r\n      >\r\n        Update Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Add a product here!\"\r\n      description=\"Welcome to product creation section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UpdateProduct;\r\n","import React, { useState } from \"react\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {updateCategory} from \"./helper/adminapicall\";\r\n\r\nconst UpdateCategory = ({match}) => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const goBack = () => {\r\n    return (\r\n      <div className=\"mt-5\">\r\n        <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">\r\n          Admin Home\r\n        </Link>\r\n      </div>\r\n    );\r\n  };\r\n  const onhandleChange = (event) => {\r\n    //we never interact directly with name or anything\r\n    setError(\"\");\r\n    setName(event.target.value);\r\n  };\r\n  const onCategorySubmit = (event) => {\r\n    event.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    //backend request fired\r\n    updateCategory(match.params.categoryId,user._id, token, { name }) // name should be sent in json format\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setError(true);\r\n        } else {\r\n          setError(\"\");\r\n          setSuccess(true);\r\n          setName(\"\");\r\n        }\r\n      });\r\n  };\r\n\r\n  const successMessage = () => {\r\n    if (success) {\r\n      return <h4 className=\"text-success\">Category created successfully</h4>;\r\n    }\r\n  };\r\n  const errorMessage = () => {\r\n    if (error) {\r\n      return <h4 className=\"text-success\">failed to create category</h4>;\r\n    }\r\n  };\r\n\r\n  const myCategoryForm = () => {\r\n    return (\r\n      <form>\r\n        <div className=\"form-group\">\r\n          <p className=\"lead\">Enter the category</p>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control my-3\"\r\n            autoFocus\r\n            required\r\n            placeholder=\"For-eg: Summer Collection\"\r\n            onChange={onhandleChange}\r\n            value={name}\r\n          ></input>\r\n          <button\r\n            onClick={onCategorySubmit}\r\n            className=\"btn btn-outline-success\"\r\n          >\r\n            Update Category\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base\r\n      tilte=\"Create category here\"\r\n      description=\"Add a new category for new Tshirts\"\r\n      className=\"container bg-success p-4\"\r\n    >\r\n      <div className=\"row bg-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {errorMessage()}\r\n          {myCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default UpdateCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { loadCart, cartEmpty } from \"./helper/cartHelper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getmeToken, processPayment } from \"./helper/paymentbhelper\";\r\nimport { createOrder } from \"./helper/orderHelper\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\n\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\n\r\nconst Paymentb = ({ products, setReload = f => f, reload = undefined }) => {\r\n  const [info, setInfo] = useState({\r\n    loading: false,\r\n    success: false,\r\n    clientToken: null,\r\n    error: \"\",\r\n    instance: {}\r\n  });\r\n\r\n  const userId = isAuthenticated() && isAuthenticated().user._id;\r\n  const token = isAuthenticated() && isAuthenticated().token;\r\n\r\n  const getToken = (userId, token) => {\r\n    getmeToken(userId, token).then(info => {\r\n      // console.log(\"INFORMATION\", info);\r\n      if (info.error) {\r\n        setInfo({ ...info, error: info.error });\r\n      } else {\r\n        const clientToken = info.clientToken;\r\n        setInfo({ clientToken });\r\n      }\r\n    });\r\n  };\r\n\r\n  const showbtdropIn = () => {\r\n    return (\r\n      <div>\r\n        {info.clientToken !== null && products.length > 0 ? (\r\n          <div>\r\n          <h1>HELLO DROP IN</h1>\r\n            <DropIn\r\n              options={{ authorization: info.clientToken }}\r\n              onInstance={instance => (info.instance = instance)}\r\n            ></DropIn>\r\n            <button className=\"btn btn-block btn-success\" onClick={onPurchase}>\r\n              Buy\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <h3>Please login or add something to cart</h3>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    getToken(userId, token);\r\n  }, []);\r\n\r\n  const onPurchase = () => {\r\n    setInfo({ loading: true });\r\n    let nonce;\r\n    let getNonce = info.instance.requestPaymentMethod().then(data => {\r\n      nonce = data.nonce;\r\n      const paymentData = {\r\n        paymentMethodNonce: nonce,\r\n        amount: getAmount()\r\n      };\r\n      processPayment(userId, token, paymentData)\r\n        .then(response => {\r\n          setInfo({ ...info, success: response.success, loading: false });\r\n          console.log(\"PAYMENT SUCCESS\");\r\n          const orderData = {\r\n            products: products,\r\n            transaction_id: response.transaction.id,\r\n            amount: response.transaction.amount\r\n          };\r\n          createOrder(userId, token, orderData);\r\n          cartEmpty(() => {\r\n            console.log(\"Did we got a crash?\");\r\n          });\r\n\r\n          setReload(!reload);\r\n        })\r\n        .catch(error => {\r\n          setInfo({ loading: false, success: false });\r\n          console.log(\"PAYMENT FAILED\");\r\n        });\r\n    });\r\n  };\r\n\r\n  const getAmount = () => {\r\n    let amount = 0;\r\n    products.map(p => {\r\n      amount = amount + p.price;\r\n    });\r\n    return amount;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>Your bill is {getAmount()} $</h3>\r\n      {showbtdropIn()}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paymentb;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const getmeToken = (userId, token) => {\r\n  return fetch(`${API}/payment/gettoken/${userId}`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    }\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\nexport const processPayment = (userId, token, paymentInfo) => {\r\n  return fetch(`${API}/payment/braintree/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify(paymentInfo)\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n","import { API } from \"../../backend\";\r\n\r\nexport const createOrder=(userId,token,orderData )=>\r\n{\r\n    console.log(\"1 createOrder\");\r\n    return fetch(`${API}/order/create/${userId}`,{\r\n        method: \"POST\",\r\n        headers:{\r\n            Accept: \"application/json\",\r\n            \"Content-Type\":\"application/json\",\r\n            Authorization: `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({order: orderData})\r\n    }).then(response=>{\r\n        return response.json();\r\n    })\r\n    .catch(err=>console.log(err));\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport { API } from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { loadCart } from \"./helper/cartHelper\";\r\nimport Paymentb from \"./paymentB\";\r\n\r\nconst Cart = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [reload,setReload]=useState(false)\r\n\r\n  useEffect(() => {\r\n    setProducts(loadCart());\r\n  }, [reload]);\r\n  // if anytime something changes focefully reload\r\n\r\n  const loadAllProducts = (products) => {\r\n    return (\r\n      <div>\r\n        <h2>This section is to load products</h2>\r\n        {products.map((product, index) => (\r\n          <Card\r\n            key={index}\r\n            product={product}\r\n            removeFromCart={true}\r\n            addtoCart={false}\r\n            setReload={setReload}\r\n            reload={reload}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Cart Page\" description=\"Ready to checkout\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"col-6\">{products.length>0?loadAllProducts(products):(<h3>No Products in cart</h3>)}</div>\r\n        <div className=\"col-6\">\r\n          <Paymentb products={products} setReload={setReload}></Paymentb>\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import React from \"react\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Home from \"./core/Home\";\r\nimport Signup from \"./user/Signup\";\r\nimport Signin from \"./user/Signin\";\r\nimport AdminRoute from \"./auth/helper/AdminRoutes\";\r\nimport PrivateRoute from \"./auth/helper/PrivateRoutes\";\r\nimport UserDashBoard from \"./user/UserDashBoard\";\r\nimport AdminDashBoard from \"./user/AdminDashBoard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport ManageCategories from \"./admin/ManageCategories\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport ManageProducts from \"./admin/ManageProducts\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport UpdateCategory from \"./admin/UpdateCategory\"\r\nimport Cart from \"./core/Cart\"\r\n\r\n// The exact param disables the partial matching for\r\n// a route and makes sure that it only returns the route if the path is an EXACT match to the current url.\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home}></Route>\r\n        <Route path=\"/signup\" exact component={Signup}></Route>\r\n        <Route path=\"/signin\" exact component={Signin}></Route>\r\n        <Route path=\"/cart\" exact component={Cart}></Route>\r\n        <PrivateRoute\r\n          path=\"/user/dashboard\"\r\n          exact\r\n          component={UserDashBoard}\r\n        ></PrivateRoute>\r\n        <AdminRoute\r\n          path=\"/admin/dashboard\"\r\n          exact\r\n          component={AdminDashBoard}\r\n        ></AdminRoute>\r\n        <AdminRoute\r\n          path=\"/admin/create/category\"\r\n          exact\r\n          component={AddCategory}\r\n        ></AdminRoute>\r\n        <AdminRoute\r\n          path=\"/admin/categories\"\r\n          exact\r\n          component={ManageCategories}\r\n        ></AdminRoute>\r\n        <AdminRoute\r\n          path=\"/admin/create/product\"\r\n          exact\r\n          component={AddProduct}\r\n        ></AdminRoute>\r\n        <AdminRoute\r\n          path=\"/admin/products\"\r\n          exact\r\n          component={ManageProducts}\r\n        ></AdminRoute>\r\n        <AdminRoute\r\n          path=\"/admin/product/update/:productId\"\r\n          exact\r\n          component={UpdateProduct}\r\n        ></AdminRoute>\r\n        <AdminRoute\r\n          path=\"/admin/category/update/:categoryId\"\r\n          exact\r\n          component={UpdateCategory}\r\n        ></AdminRoute>\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React from \"react\";\r\nimport Routes from \"./Routes\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nReactDOM.render(<Routes/>,document.getElementById(\"root\"));"],"sourceRoot":""}